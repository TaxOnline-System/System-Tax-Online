<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>เข้าสู่ระบบ - TaxOnline</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
<style>
  body { background: linear-gradient(-45deg, #fbc2eb, #a6c1ee, #fad0c4, #a1c4fd); background-size:400% 400%; animation: gradientBG 15s ease infinite; }
  @keyframes gradientBG {0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
</style>
</head>
<body class="font-sans">
<div class="max-w-md mx-auto mt-24 bg-white p-8 rounded-2xl shadow-2xl animate-fade-in">
<h2 class="text-2xl font-bold text-center text-pink-600 mb-6">เข้าสู่ระบบ / สมัครสมาชิก</h2>

<div class="flex justify-center space-x-4 mb-6">
  <button id="loginTab" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-full transition">เข้าสู่ระบบ</button>
  <button id="signupTab" class="px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-full transition">สมัครสมาชิก</button>
</div>

<form id="loginForm" class="space-y-4 hidden">
  <input type="email" id="loginEmail" placeholder="อีเมล" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" />
  <input type="password" id="loginPassword" placeholder="รหัสผ่าน" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" />
  <button class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg font-semibold transition" type="submit">เข้าสู่ระบบ</button>
</form>

<form id="signupForm" class="space-y-4 hidden">
  <input type="text" id="signupFirstName" placeholder="ชื่อ" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400" />
  <input type="text" id="signupLastName" placeholder="นามสกุล" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400" />
  <input type="email" id="signupEmail" placeholder="อีเมล" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400" />
  <input type="password" id="signupPassword" placeholder="รหัสผ่าน" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400" />
  <button class="w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded-lg font-semibold transition" type="submit">สมัครสมาชิก</button>
</form>

<div class="mt-6 border-t pt-4">
  <button id="googleSignInBtn" class="w-full bg-red-500 hover:bg-red-600 text-white py-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition">
    เข้าสู่ระบบด้วย Google
  </button>
</div>
<p id="authMessage" class="text-red-500 text-center mt-4 text-sm"></p>
</div>

<script>
const firebaseConfig = {
  apiKey:"AIzaSyBl-j4STHVQ80VNM6mPl80-55BHk4nEyZk",
  authDomain:"tax-online-6afdd.firebaseapp.com",
  projectId:"tax-online-6afdd",
  storageBucket:"tax-online-6afdd.appspot.com",
  messagingSenderId:"959276043439",
  appId:"1:959276043439:web:f358ce055687efea5d185a"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();
const auth = firebase.auth();

const loginForm = document.getElementById("loginForm");
const signupForm = document.getElementById("signupForm");
const authMessage = document.getElementById("authMessage");
const googleProvider = new firebase.auth.GoogleAuthProvider();

document.getElementById("googleSignInBtn").addEventListener("click", () => {
  auth.signInWithPopup(googleProvider).then(()=>window.location.href="index.html").catch(e=>authMessage.textContent=e.message);
});

document.getElementById("loginTab").addEventListener("click", ()=>{
  loginForm.classList.remove("hidden");
  signupForm.classList.add("hidden");
 
